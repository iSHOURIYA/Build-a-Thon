<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Form</title>
    <!-- Add Bootstrap CSS CDN link -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Add jQuery CDN link -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<div class="container mt-5">
    <form id="assessment-form" data-netlify="true" action="/submit-assessment" method="POST">

        <!-- Quiz sections -->
        <div id="interest-quiz" class="mb-4"></div>
        <div id="skill-quiz" class="mb-4"></div>
        <div id="values-quiz" class="mb-4"></div>

        <!-- Hidden input fields to store quiz responses -->
        <input type="hidden" id="interest-responses" name="interest-responses">
        <input type="hidden" id="skill-responses" name="skill-responses">
        <input type="hidden" id="values-responses" name="values-responses">

        <!-- Button to submit assessment -->
        <button type="button" id="submit-assessment" class="btn btn-primary">Submit Assessment</button>

    </form>
</div>

<script>
    $(document).ready(function () {
        // Function to generate quiz questions dynamically
        function generateQuiz(containerId, questions) {
            var quizContainer = $("#" + containerId);
            $.each(questions, function (index, question) {
                var questionHtml = "<h4>" + question.title + "</h4>";
                questionHtml += "<ul class='list-unstyled'>";
                $.each(question.options, function (optionIndex, option) {
                    questionHtml += "<li><input type='radio' name='" + containerId + "-" + index + "' value='" + optionIndex + "' class='form-check-input'>" + option + "</li>";
                });
                questionHtml += "</ul>";
                quizContainer.append(questionHtml);
            });
        }

        // Example quiz questions
        var interestQuestions = [
            { title: "What activities do you enjoy in your free time?", options: ["Reading", "Playing sports", "Cooking", "Watching movies"] },
            { title: "What subjects do you find most engaging?", options: ["Science", "History", "Art", "Mathematics"] },
            { title: "Which career paths intrigue you the most?", options: ["Technology", "Healthcare", "Education", "Business"] }
        ];

        var skillQuestions = [
            { title: "Rate your proficiency in communication skills (1-5)", options: ["1", "2", "3", "4", "5"] },
            { title: "Rate your problem-solving abilities (1-5)", options: ["1", "2", "3", "4", "5"] },
            { title: "Rate your technical skills (1-5)", options: ["1", "2", "3", "4", "5"] }
        ];

        var valuesQuestions = [
            { title: "I prioritize work-life balance.", options: ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"] },
            { title: "I value creativity and innovation.", options: ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"] },
            { title: "I seek opportunities for personal growth and development.", options: ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"] }
        ];

        // Generate quiz questions
        generateQuiz("interest-quiz", interestQuestions);
        generateQuiz("skill-quiz", skillQuestions);
        generateQuiz("values-quiz", valuesQuestions);

        // Functionality to submit assessment
        $("#submit-assessment").click(function () {
            // Gather selected options from the quiz questions
            var interestResponses = $("#interest-quiz input[type='radio']:checked").map(function () {
                return $(this).val();
            }).get().join(',');

            var skillResponses = $("#skill-quiz input[type='radio']:checked").map(function () {
                return $(this).val();
            }).get().join(',');

            var valuesResponses = $("#values-quiz input[type='radio']:checked").map(function () {
                return $(this).val();
            }).get().join(',');

            // Populate hidden input fields with quiz responses
            $("#interest-responses").val(interestResponses);
            $("#skill-responses").val(skillResponses);
            $("#values-responses").val(valuesResponses);

            // Submit the form
            $("#assessment-form").submit();
        });
    });
</script>

</body>
</html>
